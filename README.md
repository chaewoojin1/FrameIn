# ğŸ›Frame In

<br>
~~ <span style="background-color: #F7BE81; color:black">~~~</span>ì…ë‹ˆë‹¤.


~~ <br>
~~<br>
~~<br>

~~ <br>
~~
<br>


## ğŸ“Œ ëª©ì°¨

* [ğŸ”í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)
  + [âœ” í”„ë¡œì íŠ¸ ê¸°ë³¸ì„¤ì • âœ”](#í”„ë¡œì íŠ¸-ê¸°ë³¸ì„¤ì •)
  + [âœ” ê¸°ìˆ ìŠ¤íƒ âœ”](#í”„ë¡œì íŠ¸-ê¸°ë³¸ì„¤ì •)
  + [âœ” íŒ€ì›ì†Œê°œ âœ”](#Chatbot-êµ¬í˜„)
  + [âœ” íŒ€ì›ì†Œê°œ âœ”](#íŒ€ì›ì†Œê°œ)
  + [âœ” DBì„¤ê³„ âœ”](#DBì„¤ê³„)
* [â­í”„ë¡œì íŠ¸ ì‹œì•ˆ](#í”„ë¡œì íŠ¸-ì‹œì•ˆ)
    + [âœ” ê²Œì‹œíŒ í˜ì´ì§€ êµ¬í˜„ âœ”](#-ê²Œì‹œíŒ-í˜ì´ì§€-êµ¬í˜„-)
    + [âœ” Chatbot êµ¬í˜„ âœ”](#-chatbot-êµ¬í˜„-)
    + [âœ” Review êµ¬í˜„ âœ”](#-Review-êµ¬í˜„-)
    + [âœ” ChatRoom êµ¬í˜„ âœ”](#-ChatRoom-êµ¬í˜„-)
    + [âœ” Security êµ¬í˜„ âœ”](#-Security-êµ¬í˜„-)

<br>

## ğŸ”í”„ë¡œì íŠ¸ ì†Œê°œ

<details>
<summary>í”„ë¡œì íŠ¸ ê¸°ë³¸ì„¤ì •</summary>

|ì œëª©|ë‚´ìš©|
|------|---|
|ì¼ì •|2025/2/14~2025/3/18|
|ì£¼ì œ|ì˜í™” ì˜ˆë§¤ ì‚¬ì´íŠ¸|
|í”„ë¡œì íŠ¸ëª…|Frame In|
|í”„ë¡œê·¸ë˜ë° ì–¸ì–´|JAVA|
|í”„ë ˆì„ì›Œí¬|Springboot|
|ë°ì´í„°ë² ì´ìŠ¤|MySql8|
|ê°œë°œíˆ´|


</details>

<details>
<summary> íŒ€ì›ì†Œê°œ</summary>

<table>
  <tbody>
    <tr>
      <th align="center"><a href=""><img src="ì´ë¯¸ì§€ì£¼ì†Œ" width="100px;" alt=""/><br /><sub><b>FE íŒ€ì¥ : ë°•**</b></sub></a><br /></th>
</tr>
<tr>

<td>DBì„¤ê³„, íšŒì›CRUD(ê°œì¸ì •ë³´), <br>OAuth2, Security </td>
<td> ê´€ë¦¬ìí˜ì´ì§€<br>, Chatbot, <br>ê°•ì‚¬ì†Œê°œ í˜ì´ì§€, <br>INDEX ì• ë‹ˆë©”ì´ì…˜ ê¸°ëŠ¥ </td>
<td> ìƒí’ˆëª©ë¡, ìƒí’ˆìƒì„¸,<br> ì¥ë°”êµ¬ë‹ˆ(ì‹œê°„í‘œ), êµ¬ë§¤, <br>êµ¬ë§¤ë¦¬ìŠ¤íŠ¸ </td>
<td> ê²Œì‹œíŒ CRUD,<br> exception </td>
<td> INDEX í˜ì´ì§€ CSS ,<br>1:1 ë¬¸ì˜ë‚´ì—­, ë§ê¸€</td>
</tr>
  </tbody>
</table>



</details>

<details>
<summary> íƒ€ì„ë¼ì¸</summary>

![Image](https://github.com/user-attachments/assets/bff463eb-d34f-4a3a-b847-57b2873b754a)

</details>

<details>
<summary> DBì„¤ê³„ </summary>

![Image](https://github.com/user-attachments/assets/52ef9b51-7ebc-4282-93cb-f7a5401e548d)

</details>
<br>

## â­í”„ë¡œì íŠ¸ ì‹œì•ˆ

### âœ” ê²Œì‹œíŒ í˜ì´ì§€ êµ¬í˜„ âœ”
<details>
<summary>ê²Œì‹œíŒ í˜ì´ì§€ êµ¬í˜„ ì‹œì—° ì˜ìƒ</summary>


![ê²Œì‹œíŒ í˜ì´ì§€ ì‹œì•ˆì˜ìƒ](https://github.com/user-attachments/assets/6122f0a9-5e49-4094-801a-fe9230d65b5b)


</details>

<details>
<summary>ê²Œì‹œíŒ í˜ì´ì§€ êµ¬í˜„ ì‹œì•ˆ </summary>
<img src="https://github.com/user-attachments/assets/5599e421-7d35-4854-8cef-2c0e6b0e3ac6"  width="700" height="400"/>

- ì¹´í…Œê³ ë¦¬ í•„í„°ë§ ê¸°ëŠ¥
```
 // ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ í´ë¦­ ì‹œ ì¹´í…Œê³ ë¦¬ í•„í„°ë§
  const handleCategoryFilter = (category) => {
    setSelectedCategory(category);
    let filtered = [];
    if (category === "all") {
      filtered = boardList; // ëª¨ë“  ê²Œì‹œê¸€ì„ ë‹¤ì‹œ í‘œì‹œ
    } else {
      filtered = boardList.filter((board) => board.category === category);
    }

    // ê²Œì‹œê¸€ì„ createTime ë˜ëŠ” updateTimeì„ ê¸°ì¤€ìœ¼ë¡œ ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬
    filtered.sort((a, b) => {
      const timeA = a.updateTime || a.createTime;
      const timeB = b.updateTime || b.createTime;
      return new Date(timeB) - new Date(timeA); // ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬
    });

    setFilteredBoardList(filtered);
    setCurrentPage(1); // ì¹´í…Œê³ ë¦¬ í•„í„°ë§ í›„ ì²« í˜ì´ì§€ë¡œ ì´ë™
  };
```
- ê²€ìƒ‰ ê¸°ëŠ¥
```
// ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­ ì‹œ í•„í„°ë§ëœ ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ ì„¤ì •
  const handleSearch = () => {
    const filteredList = boardList.filter((board) => {
      switch (searchOption) {
        case "title":
          return board.title.toLowerCase().includes(searchQuery.toLowerCase());
        case "content":
          return board.content
            .toLowerCase()
            .includes(searchQuery.toLowerCase());
        case "nickname":
          return board.memberNickName.toLowerCase().includes(searchQuery.toLowerCase());
        default:
          return true;
      }
    });

```
- í˜ì´ì§• ì²˜ë¦¬
```
   const indexOfLastMessage = currentPage * messagesPerPage;
  const indexOfFirstMessage = indexOfLastMessage - messagesPerPage;
  const currentMessages =
    filteredBoardList.slice(indexOfFirstMessage, indexOfLastMessage) || [];

  const handlePageChange = (pageNumber) => {
    setCurrentPage(pageNumber);
  };

  const totalMessages = filteredBoardList.length || 0;
  const totalPages = Math.ceil(totalMessages / messagesPerPage);

  const getPaginationRange = () => {
    const pageLimit = 5;
    const rangeStart =
      Math.floor((currentPage - 1) / pageLimit) * pageLimit + 1;
    const rangeEnd = Math.min(rangeStart + pageLimit - 1, totalPages);
    return { rangeStart, rangeEnd };
  };

  const { rangeStart, rangeEnd } = getPaginationRange();
```
</details>

<details>
<summary>ê²Œì‹œê¸€ ì‘ì„± í˜ì´ì§€ êµ¬í˜„ ì‹œì•ˆ </summary>
<img src="https://github.com/user-attachments/assets/3a30e266-3c1a-4658-8283-b12a483c7e4d"  width="700" height="400"/>

- ê²Œì‹œê¸€ ì‘ì„± í•¸ë“¤ëŸ¬

```
// í¼ ì œì¶œ ì²˜ë¦¬ í•¨ìˆ˜
  const handleSubmit = async (e) => {
    e.preventDefault();

    // FormData ê°ì²´ ìƒì„±
    const formData = new FormData();
    formData.append("title", title);
    formData.append("content", content);
    formData.append("category", category); // ì¹´í…Œê³ ë¦¬ ì¶”ê°€
    formData.append("email", loginState.email); // Reduxì—ì„œ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°
    if (itemFile) {
      formData.append("itemFile", itemFile);
    }

    try {
      // ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡ (Content-Typeì„ ëª…ì‹œí•˜ì§€ ì•ŠìŒ)
      const response = await jwtAxios.post(
        "http://localhost:8090/board/insert",
        formData,
        {
          // "Content-Type"ì„ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ multipart/form-dataë¡œ ì„¤ì •í•´ì¤Œ
        }
      );
      // ì„±ê³µ ë©”ì‹œì§€ ì²˜ë¦¬
      setMessage(response.data);
    } catch (error) {
      // ì—ëŸ¬ ì²˜ë¦¬
      setMessage("ì•„ì´í…œ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
      console.error("Error:", error);
    }
    navigate("/board");
  };
```
</details>
<details>
<summary>ê²Œì‹œê¸€ ìˆ˜ì • í˜ì´ì§€ êµ¬í˜„ ì‹œì•ˆ </summary>
<img src="https://github.com/user-attachments/assets/6c82fa4e-e6d7-4937-9ec9-78dc617f5531"  width="700" height="400"/>

- ê²Œì‹œê¸€ ë°ì´í„° ë¯¸ë¦¬ ì…ë ¥

```
useEffect(() => {
    if (id) {
      const fetchBoardDetail = async () => {
        try {
          const response = await jwtAxios.get(
            `http://localhost:8090/board/detail/${id}`
          );
          setTitle(response.data.title);
          setCategory(response.data.category);
          setContent(response.data.content);
          setItemFile(response.data.itemFile); // If there's an existing file
          setOriginFileName(response.data.itemFile);
          setLoading(false);
        } catch (err) {
          console.error("ê²Œì‹œê¸€ ìƒì„¸ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨", err);
          setError("ê²Œì‹œê¸€ ìƒì„¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
          setLoading(false);
        }
      };
      fetchBoardDetail();
    } else {
      setLoading(false); // If there's no id, stop loading
    }
  }, [id]);
```

- ê²Œì‹œê¸€ ìˆ˜ì • í•¸ë“¤ëŸ¬

```
const handleSubmit = async (e) => {
    e.preventDefault();

    // Prepare FormData
    const formData = new FormData();
    formData.append("id", id);
    formData.append("title", title);
    formData.append("content", content);
    formData.append("category", category);
    formData.append("email", loginState.email); // Email from login state
    if (itemFile) {
      formData.append("itemFile", itemFile); // Add the file if any
    }formData.append("originFileName", originFileName);

    try {
      // Send data to the server (Content-Type handled automatically by FormData)
      const response = await jwtAxios.post(
        "http://localhost:8090/board/update",
        formData
      );
      setMessage(response.data);
    } catch (error) {
      setMessage("ê²Œì‹œê¸€ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
      console.error("Error:", error);
    }
    navigate("/board");
  };
```
- Update íŒŒì¼ ì²˜ë¦¬
```
   @Override public void boardUpdate(BoardDto boardDto) throws IOException {
    // 1. ê²Œì‹œê¸€ í™•ì¸
    Optional<BoardEntity> optionalBoardEntity = boardRepository.findById(boardDto.getId());
    if (!optionalBoardEntity.isPresent()) {
        throw new IllegalArgumentException("Fail!-> ìƒí’ˆ !");
    }
    
    // 2. íŒŒì¼ ì²´í¬
    Optional<BoardImgEntity> optionalBoardImgEntity = 
        boardImgRepository.findByBoardEntity(BoardEntity.builder().id(boardDto.getId()).build());
    
    if (optionalBoardImgEntity.isPresent()) {
        String newImgName = optionalBoardImgEntity.get().getNewImgName();
        String saveFilePath = "E:/saveFiles/" + newImgName; // ë¡œì»¬ ì €ì¥ì´ë¦„
        File deleteFile = new File(saveFilePath);
        if (deleteFile.exists()) {
            deleteFile.delete(); // íŒŒì¼ ì‚­ì œ -> ë¡œì»¬ íŒŒì¼ ì‚­ì œ
            System.out.println("íŒŒì¼ì„ ì‚­ì œí•˜ì˜€ìŠµë‹ˆë‹¤.");
        } else {
            System.out.println("íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        }
        // DBíŒŒì¼ ì‚­ì œ
        boardImgRepository.deleteById(optionalBoardImgEntity.get().getId());
    }

    // 3. ê²Œì‹œê¸€ ìˆ˜ì •
    Optional<MemberEntity> optionalMemberEntity = memberRepository.findByEmail(boardDto.getEmail());
    if (!optionalMemberEntity.isPresent()) {
        throw new IllegalArgumentException("Fail -> íšŒì›ì•„ì´ë””!");
    }

    // íŒŒì¼ì´ ì—†ì„ ê²½ìš°ì™€ ìˆì„ ê²½ìš°ì— ë”°ë¼ ì²˜ë¦¬
    MultipartFile itemFile = boardDto.getItemFile(); // íŒŒì¼ì„ ë°›ìŒ

    // íŒŒì¼ì´ nullì´ê±°ë‚˜ ë¹„ì–´ìˆìœ¼ë©´ ê²Œì‹œê¸€ë§Œ ìˆ˜ì •
    if (itemFile == null || itemFile.isEmpty()) {
        BoardEntity boardEntity = BoardEntity.toUpdateBoardEntity(boardDto);
        boardRepository.save(boardEntity);
        System.out.println("íŒŒì¼ ì—†ì´ ê²Œì‹œê¸€ë§Œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.");
    } else {
        // íŒŒì¼ì´ ìˆì„ ê²½ìš°ì—ëŠ” ìƒˆë¡œ ì €ì¥
        String oldImgName = itemFile.getOriginalFilename(); // ì›ë³¸ì´ë¯¸ì§€ëª…
        System.out.println("ì›ë³¸ì´ë¯¸ì§€: " + oldImgName);
        UUID uuid = UUID.randomUUID();
        String newImgName = uuid + "_" + oldImgName;
        System.out.println("newImgName: " + newImgName);
        String saveFilePath = "E:/saveFiles/" + newImgName; // ë¡œì»¬ ì €ì¥ì´ë¦„
        itemFile.transferTo(new File(saveFilePath)); // ë¡œì»¬ ì €ì¥

        // ê²Œì‹œê¸€ ì •ë³´ ì—…ë°ì´íŠ¸
        BoardEntity boardEntity = BoardEntity.toUpdateFileBoardEntity(boardDto);
        Long itemId = boardRepository.save(boardEntity).getId();
        
        // ìƒí’ˆ ì´ë¯¸ì§€ ì •ë³´ ì €ì¥ (ì´ë¯¸ì§€ í…Œì´ë¸”)
        Optional<BoardEntity> optionalBoardEntity2 = boardRepository.findById(itemId);
        if (!optionalBoardEntity2.isPresent()) {
            throw new IllegalArgumentException("Fail!-> ìƒí’ˆ !");
        }
        
        BoardImgDto boardImgDto = BoardImgDto.builder()
            .newImgName(newImgName)
            .oldImgName(oldImgName)
            .boardEntity(optionalBoardEntity2.get())
            .build();
        
        BoardImgEntity boardImgEntity = BoardImgEntity.toBoardImgEntity(boardImgDto);
        Long boardId2 = boardImgRepository.save(boardImgEntity).getId();
        updateHit(boardId2); // ì¡°íšŒìˆ˜ ì—…ë°ì´íŠ¸
    }
}
```
</details>
<br>

### âœ” Chatbot êµ¬í˜„ âœ”
<details>
<summary>Chatbot êµ¬í˜„ ì‹œì—° ì˜ìƒ</summary>

![chatBot](https://github.com/user-attachments/assets/fe60f6bd-6635-4dc0-97f2-3b7bed38385e)




</details>
<details>
<summary>Chatbot êµ¬í˜„ ì‹œì•ˆ ì„¤ëª…</summary>

<img src="ì´ë¯¸ì§€ì£¼ì†Œ" width="700" height="400"/>

- websocketì€ ê¸°ì¡´ì˜ ë‹¨ë°©í–¥ HTTPí”„ë¡œí† ì½œê³¼ í˜¸í™˜ë˜ì–´ ì–‘ë°©í–¥ í†µì‹ ì„ ì œê³µí•˜ê¸° ìœ„í•´ ê°œë°œëœ í”„ë¡œí† ì½œ
- websocket ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì£¼ì…í•˜ì—¬ ì‚¬ìš©
- configureMessageBroker() ë©”ì„œë“œëŠ” ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¥¼ ì„¤ì •í•˜ê³  /app2ê°€ ë¶™ìœ¼ë©´ ì„œë²„ë¡œ ì „ì†¡, /topicì´ ë¶™ìœ¼ë©´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì„¸ì§€ ë³´ë‚´ë„ë¡ í™œì„±í™”
- registerStompEndpoints() ë©”ì„œë“œë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°„ì˜ ì›¹ì†Œì¼“ ì—°ê²°ì„ í™œì„±í™”

<img src="ì´ë¯¸ì§€ì£¼ì†Œ" width="700" height="400"/>

- @MessageMapping() ì£¼ì†Œë¡œ ë©”ì„¸ì§€ê°€ ì˜¤ë©´ í•´ë‹¹ ë§¤ì„œë“œê°€ êµ¬í˜„ë˜ë©° @Sendto() ì£¼ì†Œë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡
- ì²˜ìŒ ì†Œì¼“ì—°ê²°ì‹œ ì—°ê²°ì´ ì„±ê³µí•˜ë©´  /app2/helloì£¼ì†Œë¡œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ helloë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ë„ë¡ í•˜ì—¬ ê¸°ì—…ì†Œê°œ, ìƒí’ˆì†Œê°œë¥¼ ì„ íƒí• ìˆ˜ìˆê²Œ í–ˆìœ¼ë©° ì´ëŠ” topic/greetingsì£¼ì†Œë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡
-
<img src="ì´ë¯¸ì§€ì£¼ì†Œ" width="700" height="400"/>

- ê¸°ì—…ì†Œê°œ ë˜ëŠ” ìƒí’ˆì†Œê°œ ë²„íŠ¼ì„ í´ë¦­ì‹œ /app2/messageì£¼ì†Œë¡œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ messageë§¤ì„œë“œë¥¼ ì‹¤í–‰ì‹œì¼œ ê·¸ì—ëŒ€í•œ ì‘ë‹µë‚´ìš©ì´ ë‚˜ì˜¤ë„ë¡ í•¨

</details>
<br>
<br>

### âœ” Review êµ¬í˜„ âœ”
<details>
<summary>Review í˜ì´ì§€ ì‹œì—° ì˜ìƒ</summary>

![ë¦¬ë·°1](https://github.com/user-attachments/assets/9a7887da-eca8-4454-8fc6-c8f740b666b0)


</details>
<details>
<summary>ê°•ì‚¬ ì†Œê°œ í˜ì´ì§€ ì‹œì•ˆ ì„¤ëª…</summary>

  <img src="ì´ë¯¸ì§€ì£¼ì†Œ"  width="700" height="400"/>

- ê°•ì‚¬ í˜ì´ì§€ëŠ” ëª¨ë“  ì‚¬ìš©ìê°€ ì„ ìƒë‹˜ì˜ í”„ë¡œí•„ì„ ë³¼ìˆ˜ìˆë„ë¡ í•œ í˜ì´ì§€

<img src="ì´ë¯¸ì§€ì£¼ì†Œ"  width="700" height="400"/>

ì„¤ëª…

</details>
<br>
<br>

### âœ” ChatRoom êµ¬í˜„ âœ”
<details>
<summary>ChatRoom ì‹œì—° ì˜ìƒ</summary>

![ì±„íŒ…ë°©2](https://github.com/user-attachments/assets/3b8c8fd4-b0a8-4b53-ad1a-d0694dcc0b3d)


</details>
<details>
&nbsp;<summary>INDEX ì• ë‹ˆë©”ì´ì…˜ ê¸°ëŠ¥ ì‹œì•ˆ ì„¤ëª…</summary>

  <img src="ì´ë¯¸ì§€ì£¼ì†Œ"  width="700" height="400"/>
</details>
<br>
<br>

### âœ” Security êµ¬í˜„ âœ”
<details>
<summary>Security(JWT) ì‹œì—° ì˜ìƒ</summary>

![JWT](https://github.com/user-attachments/assets/24e0317d-f9fb-4e08-8a53-beb38fa425fb)


</details>
<details>
&nbsp;<summary>INDEX ì• ë‹ˆë©”ì´ì…˜ ê¸°ëŠ¥ ì‹œì•ˆ ì„¤ëª…</summary>

  <img src="ì´ë¯¸ì§€ì£¼ì†Œ"  width="700" height="400"/>
</details>
