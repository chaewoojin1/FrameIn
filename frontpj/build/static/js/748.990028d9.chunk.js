"use strict";(self.webpackChunkfrontpj=self.webpackChunkfrontpj||[]).push([[748],{6748:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(5043),n=a(9320),r=a(579);const c=()=>{const[e,s]=(0,t.useState)([]),[a,c]=(0,t.useState)(""),[o,i]=(0,t.useState)(null),[l,d]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,u]=(0,t.useState)(!1),j=async()=>{try{const e=await n.A.get("http://43.201.20.172:8090/api/helpMessage");s(e.data)}catch(e){console.error("\uba54\uc2dc\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e)}};(0,t.useEffect)((()=>{j()}),[]);return(0,r.jsxs)("div",{className:"admin-chatbot-container",children:[(0,r.jsx)("h2",{children:"\ub3c4\uc6c0\ub9d0 \uad00\ub9ac"}),(0,r.jsx)("ul",{className:"help-messages-list",children:e.map((e=>(0,r.jsxs)("li",{className:"help-message-item",children:[e.message," ",(0,r.jsx)("button",{onClick:()=>(e=>{i(e),d(e.message),u(!0)})(e),className:"edit-btn",children:"\uc218\uc815"})]},e.id)))}),(0,r.jsx)("button",{onClick:()=>m(!0),className:"add-message-btn",children:"\ub3c4\uc6c0\ub9d0 \ucd94\uac00\ud558\uae30"}),h&&(0,r.jsx)("div",{className:"admin-modal",children:(0,r.jsxs)("div",{className:"admin-modal-content",children:[(0,r.jsx)("h3",{children:"\uc0c8 \ub3c4\uc6c0\ub9d0 \ucd94\uac00"}),(0,r.jsx)("textarea",{rows:"3",name:"newMessage",value:a,onChange:e=>c(e.target.value),placeholder:"\uba54\uc2dc\uc9c0 \uc785\ub825",className:"new-message-input"}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("span",{className:"modal-close-btn",onClick:()=>m(!1),children:"\u2716"}),(0,r.jsx)("button",{onClick:async()=>{try{await n.A.post("http://43.201.20.172:8090/api/helpMessage",{message:a},{headers:{"Content-Type":"application/json"}}),c(""),m(!1),j()}catch(e){console.error("\ucd94\uac00 \uc2e4\ud328:",e)}},className:"add-btn",children:"\ucd94\uac00"})]})]})}),p&&(0,r.jsx)("div",{className:"admin-modal",children:(0,r.jsxs)("div",{className:"admin-modal-content",children:[(0,r.jsx)("h3",{children:"\ub3c4\uc6c0\ub9d0 \uc218\uc815/\uc0ad\uc81c"}),(0,r.jsx)("textarea",{rows:"3",name:"editMessage",value:l,onChange:e=>d(e.target.value),className:"edit-message-input"}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("span",{className:"modal-close-btn",onClick:()=>u(!1),children:"\u2716"}),(0,r.jsx)("button",{onClick:async()=>{if(window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{await n.A.delete(`http://43.201.20.172:8090/api/helpMessage/${o.id}`),u(!1),j()}catch(e){console.error("\uc0ad\uc81c \uc2e4\ud328:",e)}},className:"delete-btn",children:"\uc0ad\uc81c"}),(0,r.jsx)("button",{onClick:async()=>{try{await n.A.put(`http://43.201.20.172:8090/api/helpMessage/${o.id}`,{message:l},{headers:{"Content-Type":"application/json"}}),u(!1),j()}catch(e){console.error("\uc218\uc815 \uc2e4\ud328:",e)}},className:"update-btn",children:"\uc218\uc815"})]})]})})]})}},9320:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(6213),n=a(8056);const r=t.A.create();r.interceptors.request.use((e=>{const s=(0,n.Ri)("member");if(!s)return Promise.reject({response:{data:{error:"REQUIRE_LOGIN"}}});const{accessToken:a}=s;return e.headers.Authorization=`Bearer ${a}`,e}),(e=>Promise.reject(e))),r.interceptors.response.use((async e=>{const s=e.data;if(s&&"ERROR_ACCESS_TOKEN"===s.error){const s=(0,n.Ri)("member"),a=await(async(e,s)=>{const a={headers:{Authorization:`Bearer ${e}`}};return(await t.A.get(`http://43.201.20.172:8090/api/member/refresh?refreshToken=${s}`,a)).data})(s.accessToken,s.refreshToken);s.accessToken=a.accessToken,s.refreshToken=a.refreshToken,(0,n.TV)("member",JSON.stringify(s),1);const r=e.config;return r.headers.Authorization=`Bearer ${a.accessToken}`,await(0,t.A)(r)}return e}),(e=>Promise.reject(e)));const c=r}}]);
//# sourceMappingURL=748.990028d9.chunk.js.map