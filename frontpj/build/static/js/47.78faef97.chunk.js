"use strict";(self.webpackChunkfrontpj=self.webpackChunkfrontpj||[]).push([[47],{5047:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var a=r(5043),t=r(3003),n=r(1675),i=r(9320),o=r(579);const l=()=>{var e;const[s,r]=(0,a.useState)(""),[l,c]=(0,a.useState)("\uc790\uc720\uac8c\uc2dc\ud310"),[d,p]=(0,a.useState)(""),[u,h]=(0,a.useState)(null),[m,j]=(0,a.useState)(""),x=(0,n.Zp)(),f=(0,t.d4)((e=>e.loginSlice));return(0,o.jsxs)("div",{className:"boardInsert",children:[(0,o.jsx)("h2",{children:"\uac8c\uc2dc\uae00 \uc791\uc131"}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=new FormData;r.append("title",s),r.append("content",d),r.append("category",l),r.append("email",f.email),u&&r.append("itemFile",u);try{const e=await i.A.post("http://43.201.20.172:8090/board/insert",r,{});j(e.data)}catch(a){j("\uc544\uc774\ud15c \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),console.error("Error:",a)}x("/board")},children:[(0,o.jsxs)("div",{className:"board-title",children:[(0,o.jsx)("span",{children:"\uc81c\ubaa9"}),(0,o.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),required:!0})]}),(0,o.jsxs)("div",{className:"board-category",children:[(0,o.jsx)("span",{children:"\uce74\ud14c\uace0\ub9ac"}),(0,o.jsxs)("select",{value:l,onChange:e=>c(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"\uc601\ud654\uac8c\uc2dc\ud310",children:"\uc601\ud654\uac8c\uc2dc\ud310"}),(0,o.jsx)("option",{value:"\uc790\uc720\uac8c\uc2dc\ud310",children:"\uc790\uc720\uac8c\uc2dc\ud310"}),(0,o.jsx)("option",{value:"\ubb38\uc758\uac8c\uc2dc\ud310",children:"\ubb38\uc758\uac8c\uc2dc\ud310"}),null!==(e=f.roleNames)&&void 0!==e&&e.includes("ADMIN")?(0,o.jsx)("option",{value:"\uacf5\uc9c0\uc0ac\ud56d",children:"\uacf5\uc9c0\uc0ac\ud56d"}):(0,o.jsx)(o.Fragment,{})]})]}),(0,o.jsxs)("div",{className:"board-content",children:[(0,o.jsx)("span",{children:"\ub0b4\uc6a9"}),(0,o.jsx)("textarea",{value:d,onChange:e=>p(e.target.value),required:!0})]}),(0,o.jsxs)("div",{className:"board-upload",children:[(0,o.jsx)("span",{children:"\ud30c\uc77c"}),(0,o.jsx)("input",{type:"file",id:"file-upload",onChange:e=>{const s=e.target.files[0];if(s){const r=["jpg","jpeg","png","gif","bmp","svg"],a=s.name.split(".").pop().toLowerCase();if(!r.includes(a))return alert("\ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc740 \ud30c\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4. (\uc774\ubbf8\uc9c0 \ud30c\uc77c\ub9cc \uac00\ub2a5)"),e.target.value="",void h(null);h(s)}},style:{display:"none"}}),(0,o.jsxs)("div",{className:"file-upload",children:[(0,o.jsx)("label",{htmlFor:"file-upload",className:"upload-btn",children:"\ud30c\uc77c \uc120\ud0dd"}),(0,o.jsx)("span",{id:"file-name-display",children:u?`${u.name}`:""})]})]}),(0,o.jsx)("button",{type:"submit",className:"board-submit",children:"\uac8c\uc2dc\uae00 \ucd94\uac00"})]}),m&&(0,o.jsx)("span",{children:m})]})},c=()=>(0,o.jsx)(l,{})},9320:(e,s,r)=>{r.d(s,{A:()=>i});var a=r(6213),t=r(8056);const n=a.A.create();n.interceptors.request.use((e=>{const s=(0,t.Ri)("member");if(!s)return Promise.reject({response:{data:{error:"REQUIRE_LOGIN"}}});const{accessToken:r}=s;return e.headers.Authorization=`Bearer ${r}`,e}),(e=>Promise.reject(e))),n.interceptors.response.use((async e=>{const s=e.data;if(s&&"ERROR_ACCESS_TOKEN"===s.error){const s=(0,t.Ri)("member"),r=await(async(e,s)=>{const r={headers:{Authorization:`Bearer ${e}`}};return(await a.A.get(`http://43.201.20.172:8090/api/member/refresh?refreshToken=${s}`,r)).data})(s.accessToken,s.refreshToken);s.accessToken=r.accessToken,s.refreshToken=r.refreshToken,(0,t.TV)("member",JSON.stringify(s),1);const n=e.config;return n.headers.Authorization=`Bearer ${r.accessToken}`,await(0,a.A)(n)}return e}),(e=>Promise.reject(e)));const i=n}}]);
//# sourceMappingURL=47.78faef97.chunk.js.map