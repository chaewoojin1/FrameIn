"use strict";(self.webpackChunkfrontpj=self.webpackChunkfrontpj||[]).push([[743],{8743:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(5043),n=a(6213),r=a(1675),l=a(3003),i=a(579);const c=()=>{const[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(""),[o,d]=(0,s.useState)([]),[h,m]=(0,s.useState)("title"),[u,j]=(0,s.useState)(1),[x]=(0,s.useState)(5),[p,b]=(0,s.useState)("all"),g=(0,r.Zp)(),N=(0,l.d4)((e=>e.loginSlice));(0,s.useEffect)((()=>{(async()=>{try{const e=(await n.A.get("http://43.201.20.172:8090/board/List")).data.sort(((e,t)=>{const a=e.updateTime||e.createTime,s=t.updateTime||t.createTime;return new Date(s)-new Date(a)}));t(e),d(e)}catch(e){console.error("\uc544\uc774\ud15c \ub9ac\uc2a4\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328",e)}})()}),[]);const C=e=>{const t=new Date(e),a=new Date,s=Math.floor((a-t)/1e3);if(s<60)return`${s}\ucd08 \uc804`;if(s<3600){return`${Math.floor(s/60)}\ubd84 \uc804`}if(s<86400){return`${Math.floor(s/3600)}\uc2dc\uac04 \uc804`}if(s<172800)return"\uc5b4\uc81c";if(s<604800){return`${Math.floor(s/86400)}\uc77c \uc804`}return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},w=t=>{b(t);let a=[];a="all"===t?e:e.filter((e=>e.category===t)),a.sort(((e,t)=>{const a=e.updateTime||e.createTime,s=t.updateTime||t.createTime;return new Date(s)-new Date(a)})),d(a),j(1)},v=u*x,f=v-x,k=o.slice(f,v)||[],S=e=>{j(e)},T=o.length||0,y=Math.ceil(T/x),{rangeStart:_,rangeEnd:D}=(()=>{const e=5*Math.floor((u-1)/5)+1;return{rangeStart:e,rangeEnd:Math.min(e+5-1,y)}})();return console.log(e),(0,i.jsxs)("div",{className:"board",children:[(0,i.jsx)("h2",{children:"\uac8c\uc2dc\ud310"}),(0,i.jsx)("div",{className:"create-post-button",children:(0,i.jsxs)("div",{onClick:()=>{N.email?g("/board/insert"):g("/member/login")},className:"write_btn",children:[(0,i.jsx)("img",{src:"./../image/write.svg",alt:"\uae00\uc4f0\uae30"}),"\uac8c\uc2dc\uae00 \uc791\uc131"]})}),(0,i.jsxs)("div",{className:"category",children:[(0,i.jsx)("button",{onClick:()=>w("all"),className:"all"===p?"active-category":"",children:"\uc804\uccb4 \uac8c\uc2dc\ud310"}),(0,i.jsx)("button",{onClick:()=>w("\ubb38\uc758\uac8c\uc2dc\ud310"),className:"\ubb38\uc758\uac8c\uc2dc\ud310"===p?"active-category":"",children:"\ubb38\uc758\uac8c\uc2dc\ud310"}),(0,i.jsx)("button",{onClick:()=>w("\uc790\uc720\uac8c\uc2dc\ud310"),className:"\uc790\uc720\uac8c\uc2dc\ud310"===p?"active-category":"",children:"\uc790\uc720\uac8c\uc2dc\ud310"}),(0,i.jsx)("button",{onClick:()=>w("\uc601\ud654\uac8c\uc2dc\ud310"),className:"\uc601\ud654\uac8c\uc2dc\ud310"===p?"active-category":"",children:"\uc601\ud654\uac8c\uc2dc\ud310"}),(0,i.jsx)("button",{onClick:()=>w("\uacf5\uc9c0\uc0ac\ud56d"),className:"\uacf5\uc9c0\uc0ac\ud56d"===p?"active-category":"",children:"\uacf5\uc9c0\uc0ac\ud56d"})]}),(0,i.jsxs)("div",{className:"boardSearch",children:[(0,i.jsxs)("select",{value:h,onChange:e=>m(e.target.value),children:[(0,i.jsx)("option",{value:"title",children:"\uc81c\ubaa9"}),(0,i.jsx)("option",{value:"content",children:"\ub0b4\uc6a9"}),(0,i.jsx)("option",{value:"nickname",children:"\uae00\uc4f4\uc774"})]}),(0,i.jsx)("input",{type:"text",placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",value:a,onChange:e=>c(e.target.value)}),(0,i.jsx)("button",{onClick:()=>{const t=e.filter((e=>{switch(h){case"title":return e.title.toLowerCase().includes(a.toLowerCase());case"content":return e.content.toLowerCase().includes(a.toLowerCase());case"nickname":return e.memberNickName.toLowerCase().includes(a.toLowerCase());default:return!0}}));let s="all"!==p?t.filter((e=>e.category===p)):t;s.sort(((e,t)=>{const a=e.updateTime||e.createTime,s=t.updateTime||t.createTime;return new Date(s)-new Date(a)})),d(s),j(1)},children:"\uac80\uc0c9"})," "]}),0===o.length?(0,i.jsx)("p",{children:"\ub4f1\ub85d\ub41c \uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("ul",{className:"boardList",children:[(0,i.jsxs)("li",{className:"boardItem_head",children:[(0,i.jsx)("span",{className:"board_num",children:"No"}),(0,i.jsx)("span",{className:"board_title",children:"\uc81c\ubaa9"}),(0,i.jsx)("span",{className:"board_writer",children:"\uae00\uc4f4\uc774"}),(0,i.jsx)("span",{className:"board_date",children:"\uc791\uc131\uc77c\uc790"}),(0,i.jsx)("span",{className:"board_hit",children:"\uc870\ud68c\uc218"})]}),k.map(((e,t)=>(0,i.jsxs)("li",{className:"boardItem",onClick:()=>g(`/board/detail/${e.id}`),children:[(0,i.jsx)("span",{className:"board_num",children:t+1}),(0,i.jsxs)("div",{className:"board_title",children:[(0,i.jsx)("span",{children:e.category}),(0,i.jsx)("span",{children:e.title.length>16?e.title.slice(0,16)+"...":e.title}),(0,i.jsx)("span",{children:e.replyCount}),(e.newImgName||e.oldImgName)&&(0,i.jsx)("span",{children:"\ud83d\udd17"})]}),(0,i.jsx)("span",{className:"board_writer",children:e.memberNickName}),null!==e.updateTime?(0,i.jsx)("span",{className:"board_date",children:C(e.updateTime)}):(0,i.jsx)("span",{className:"board_date",children:C(e.createTime)}),(0,i.jsx)("span",{className:"board_hit",children:e.hit})]},e.id)))]}),(0,i.jsxs)("div",{className:"pagination",children:[(0,i.jsx)("button",{onClick:()=>S(1),disabled:1===u,children:"\ucc98\uc74c"}),(0,i.jsx)("button",{onClick:()=>S(u-1),disabled:1===u,children:"\uc774\uc804"}),[...Array(D-_+1)].map(((e,t)=>(0,i.jsx)("button",{onClick:()=>S(_+t),className:u===_+t?"active":"",children:_+t},t))),(0,i.jsx)("button",{onClick:()=>S(u+1),disabled:u===y,children:"\ub2e4\uc74c"}),(0,i.jsx)("button",{onClick:()=>S(y),disabled:u===y,children:"\ub9c8\uc9c0\ub9c9"})]})]})]})},o=()=>(0,i.jsx)(c,{})}}]);
//# sourceMappingURL=743.60ba1176.chunk.js.map