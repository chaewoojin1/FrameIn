"use strict";(self.webpackChunkfrontpj=self.webpackChunkfrontpj||[]).push([[235],{2235:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(5043),n=a(1675),i=a(6213),r=a(8473),l=a(579);const c=()=>{const e=(0,n.zy)(),t=(0,n.Zp)(),a=new URLSearchParams(e.search),c=a.get("query")||"",o=a.get("searchType")||"normal",[h,d]=(0,s.useState)(c),[p,m]=(0,s.useState)(o),[u,g]=(0,s.useState)([]),[j,x]=(0,s.useState)(!1),[v,N]=(0,s.useState)(0),[f,b]=(0,s.useState)(1),[C,w]=(0,s.useState)(0),[k,y]=(0,s.useState)("release"),S=e=>{e<1||e>C||(b(e),N(e-1))},$=5*Math.floor((f-1)/5)+1,G=Math.min($+5-1,C);(0,s.useEffect)((()=>{(async()=>{x(!0);try{let e;if(h){let t=h.trim(),a=p;/^[\u3131-\u314e]+$/.test(t)?(t=r.zp(t),a="chosung",m(a)):(a="normal",m(a)),e=await i.A.get(`http://43.201.20.172:8090/api/search?query=${encodeURIComponent(t)}&searchType=${a}&page=${v}&sortOption=${k}`)}else e=await i.A.get(`http://43.201.20.172:8090/api/searchList?page=${v}&sortOption=${k}`);const{content:t,totalPages:a}=e.data;g(t),w(a)}catch(e){console.error("\uc601\ud654 \uac80\uc0c9 \uc2e4\ud328:",e)}finally{x(!1)}})()}),[h,p,v,k]),(0,s.useEffect)((()=>{d(c),m(o),N(0)}),[c,o]);const A=e=>{if(!e)return"";if(e.includes(":")){const t=e.split(":");return(0,l.jsxs)("span",{children:[t[0],":",(0,l.jsx)("br",{}),t[1]," "]})}return(0,l.jsx)("span",{children:e})};return(0,l.jsxs)("div",{className:"search-content",children:[(0,l.jsx)("div",{className:"sort-options",children:(0,l.jsxs)("select",{value:k,onChange:e=>{y(e.target.value),N(0)},children:[(0,l.jsx)("option",{value:"release",children:"\uac1c\ubd09\uc77c \uc21c"}),(0,l.jsx)("option",{value:"alphabetical",children:"\uac00\ub098\ub2e4 \uc21c"})]})}),j&&(0,l.jsx)("p",{children:"\uac80\uc0c9 \uc911\uc785\ub2c8\ub2e4... \uc870\uae08\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694"}),!j&&u.length>0&&(0,l.jsx)("ul",{className:"movie-list",children:u.map((e=>(0,l.jsxs)("li",{onClick:()=>{return a=e.movieCd,void t(`/movie/detail/${a}`);var a},style:{cursor:"pointer"},children:[(0,l.jsx)("img",{className:"poster",src:e.poster_path,alt:e.movieNm,width:"100"}),(0,l.jsx)("img",{src:"\uccad\uc18c\ub144\uad00\ub78c\ubd88\uac00"===e.watchGradeNm?"./../image/18.png":"15\uc138\uc774\uc0c1\uad00\ub78c\uac00"===e.watchGradeNm?"./../image/15.png":"12\uc138\uc774\uc0c1\uad00\ub78c\uac00"===e.watchGradeNm?"./../image/12.png":"\uc804\uccb4\uad00\ub78c\uac00"===e.watchGradeNm?"./../image/all.png":null,alt:e.watchGradeNm,className:"age-rating-icon"}),(0,l.jsx)("span",{className:"movie-title",children:A(e.movieNm)})]},e.movieCd)))}),!j&&0===u.length&&h&&(0,l.jsxs)("p",{children:['"',h,'"\uc5d0 \ub300\ud55c \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.']}),(0,l.jsxs)("div",{className:"pagination",children:[(0,l.jsx)("button",{onClick:()=>S(1),disabled:1===f,children:"\ucc98\uc74c"}),(0,l.jsx)("button",{onClick:()=>S(f-1),disabled:1===f,children:"\uc774\uc804"}),[...Array(G-$+1)].map(((e,t)=>(0,l.jsx)("button",{onClick:()=>S($+t),className:f===$+t?"active":"",children:$+t},t))),(0,l.jsx)("button",{onClick:()=>S(f+1),disabled:f===C,children:"\ub2e4\uc74c"}),(0,l.jsx)("button",{onClick:()=>S(C),disabled:f===C,children:"\ub9c8\uc9c0\ub9c9"})]})]})},o=()=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c,{})})}}]);
//# sourceMappingURL=235.2cc6b1cc.chunk.js.map